<!DOCTYPE html>
<html lang="ur">
<head>
<meta charset="UTF-8">
<title>Anwar-ul-Uloom Result System</title>
<style>
body{font-family:Arial;background:#eef2ee;margin:0;padding:0}
.container{max-width:1100px;margin:auto;padding:20px}
.card{background:#fff;padding:20px;margin-bottom:20px;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,.1)}
h2{color:#2f5d50;margin-top:0;text-align:center}
input,select,button,textarea{width:100%;padding:10px;margin-top:8px}
button{background:#2f5d50;color:#fff;border:none;cursor:pointer}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #ccc;padding:8px;text-align:center}
.pass{color:green;font-weight:bold}
.fail{color:red;font-weight:bold}
</style>
</head>
<body>
<div class="container">

<h2>Anwar-ul-Uloom Islamic University</h2>

<!-- Admin Login -->
<div class="card" id="loginCard">
<h2>ğŸ” Admin Login</h2>
<input type="password" id="adminPass" placeholder="Admin Password">
<button onclick="login()">Login</button>
<p id="loginMsg"></p>
</div>

<!-- Admin Panel -->
<div class="card" id="adminPanel" style="display:none">
<h2>â• Add / Edit / Delete Student & Class Books</h2>

<!-- Change Password -->
<div class="grid">
<input type="password" id="newPass" placeholder="New Admin Password">
<button onclick="changePassword()">Change Password</button>
<p id="passMsg"></p>
</div>

<!-- Student Details -->
<div class="grid">
<input id="roll" placeholder="Roll Number">
<input id="studentName" placeholder="Student Name">
<input id="fatherName" placeholder="Father Name">
<select id="className">
<option>Ø§Ø¨ØªØ¯Ø§Ø¦ÛŒÛ</option>
<option>Ù…ØªÙˆØ³Ø·Û</option>
<option>Ø¹Ø§Ù…Û Ø§ÙˆÙ„</option>
<option>Ø¹Ø§Ù…Û Ø¯ÙˆÙ…</option>
<option>Ø®Ø§ØµÛ Ø§ÙˆÙ„</option>
<option>Ø®Ø§ØµÛ Ø¯ÙˆÙ…</option>
<option>Ø¹Ø§Ù„ÛŒÛ Ø§ÙˆÙ„</option>
<option>Ø¹Ø§Ù„ÛŒÛ Ø¯ÙˆÙ…</option>
<option>Ø¹Ø§Ù„Ù…ÛŒÛ</option>
<option>ØªØ®ØµØµ ÙÛŒ Ø§Ù„Ø­Ø¯ÛŒØ« Ø§ÙˆÙ„</option>
<option>ØªØ®ØµØµ ÙÛŒ Ø§Ù„Ø­Ø¯ÛŒØ« Ø¯ÙˆÙ…</option>
<option>Ø¯ÙˆØ±Û‚ Ø­Ø¯ÛŒØ«</option>
</select>
<select id="year">
<option>2024</option>
<option>2025</option>
<option>2026</option>
</select>
<select id="gender">
<option>Talib-e-Ilm</option>
<option>Talibat</option>
<option>Male</option>
<option>Female</option>
</select>
</div>

<!-- Marks Inputs -->
<div class="grid">
<input id="m1" placeholder="Book 1 Marks">
<input id="m2" placeholder="Book 2 Marks">
<input id="m3" placeholder="Book 3 Marks">
<input id="m4" placeholder="Book 4 Marks">
<input id="m5" placeholder="Book 5 Marks">
<input id="m6" placeholder="Book 6 Marks">
</div>

<!-- Add / Delete Books for Class -->
<div class="grid">
<textarea id="newBooks" placeholder="Add new books for this class (comma separated)"></textarea>
<button onclick="addNewBooks()">Add Books</button>
<textarea id="delBooks" placeholder="Delete books from this class (comma separated)"></textarea>
<button onclick="deleteBooks()">Delete Books</button>
</div>

<!-- Save / Delete Student -->
<button onclick="addStudent()">ğŸ’¾ Save / Update Result</button>
<button onclick="deleteStudent()">âŒ Delete Result</button>
<p id="msg"></p>
</div>

<!-- Student Result -->
<div class="card">
<h2>ğŸ“ Student Result Check</h2>
<div class="grid">
<input id="searchRoll" placeholder="Roll Number">
<select id="searchClass">
<option>Ø§Ø¨ØªØ¯Ø§Ø¦ÛŒÛ</option>
<option>Ù…ØªÙˆØ³Ø·Û</option>
<option>Ø¹Ø§Ù…Û Ø§ÙˆÙ„</option>
<option>Ø¹Ø§Ù…Û Ø¯ÙˆÙ…</option>
<option>Ø®Ø§ØµÛ Ø§ÙˆÙ„</option>
<option>Ø®Ø§ØµÛ Ø¯ÙˆÙ…</option>
<option>Ø¹Ø§Ù„ÛŒÛ Ø§ÙˆÙ„</option>
<option>Ø¹Ø§Ù„ÛŒÛ Ø¯ÙˆÙ…</option>
<option>Ø¹Ø§Ù„Ù…ÛŒÛ</option>
<option>ØªØ®ØµØµ ÙÛŒ Ø§Ù„Ø­Ø¯ÛŒØ« Ø§ÙˆÙ„</option>
<option>ØªØ®ØµØµ ÙÛŒ Ø§Ù„Ø­Ø¯ÛŒØ« Ø¯ÙˆÙ…</option>
<option>Ø¯ÙˆØ±Û‚ Ø­Ø¯ÛŒØ«</option>
</select>
</div>
<button onclick="checkResult()">ğŸ“„ Show Result</button>
<div id="result"></div>
<button onclick="printResult()">ğŸ–¨ Print / PDF</button>
</div>

<script>
// Admin Password
let storedPassword = localStorage.getItem("adminPassword") || "Qamar1654";

// Students Data
let students=JSON.parse(localStorage.getItem("students"))||{};

// Class Books
let classBooks={
"Ø§Ø¨ØªØ¯Ø§Ø¦ÛŒÛ":["ØªØ±Ø¬Ù…Ûƒ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŒ Ù‚Ø§Ø¹Ø¯Û Ø¨ØºØ¯Ø§Ø¯ÛŒ"],
"Ù…ØªÙˆØ³Ø·Û":["Ù†Ø­Ùˆ Ù…ÛŒØ±ØŒ ØµØ±Ù Ù…ÛŒØ±"],
"Ø¹Ø§Ù…Û Ø§ÙˆÙ„":["ÛØ¯Ø§ÛŒÛƒ Ø§Ù„Ù†Ø­ÙˆØŒ Ø§ØµÙˆÙ„ Ø§Ù„Ø´Ø§Ø´ÛŒ"],
"Ø¹Ø§Ù…Û Ø¯ÙˆÙ…":["Ù†Ø­Ùˆ Ù…ÛŒØ±ØŒ ÛØ¯Ø§ÛŒÛƒ Ø§Ù„Ù†Ø­Ùˆ"],
"Ø®Ø§ØµÛ Ø§ÙˆÙ„":["ØªØ±Ø¬Ù…Ûƒ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŒ Ø±ÛŒØ§Ø¶ Ø§Ù„ØµØ§Ù„Ø­ÛŒÙ†","Ø³ÛŒØ±Øª Ø±Ø³ÙˆÙ„ Ø¹Ø±Ø¨ÛŒØŒ ØªØ§Ø±ÛŒØ® Ø§Ù„Ø®Ù„ÙØ§Ø¡","Ù‚Ø¯ÙˆØ±ÛŒØŒ Ø§ØµÙˆÙ„ Ø§Ù„Ø´Ø§Ø´ÛŒ","Ø¯Ø±ÙˆØ¯ Ø§Ù„Ø¨Ù„Ø§ØºÛ Ùˆ Ø§Ù„Ø¹Ù‚Ø§Ø¦Ø¯ ÙˆØ§Ù„Ù…Ø³Ø§Ø¦Ù„","Ú©Ø§ÙÛŒÛ Ùˆ Ù…Ø±Ù‚Ø§Øª","ÙØªÙ†Û Ø§Ù†Ú©Ø§Ø± Ø­Ø¯ÛŒØ«ØŒ Ø±Ø¯ Ø±ÙØ¶ÛØŒ Ø±Ø¯ Ù‚Ø§Ø¯ÛŒØ§Ù†ÛŒØª"],
"Ø®Ø§ØµÛ Ø¯ÙˆÙ…":["Ø¬Ù„Ø§Ù„ÛŒÙ† Ø§ÙˆÙ„ØŒ Ø¹Ù„Ù… Ù‚Ø±Ø¢Ù†","Ù…Ø³Ù†Ø¯ Ø§Ù…Ø§Ù… Ø§Ø¹Ø¸Ù…ØŒ Ù‚ØµÛŒØ¯Û Ø¨Ø±Ø¯Û","ÛØ¯Ø§ÛŒÛ Ø§ÙˆÙ„","Ù†ÙˆØ± Ø§Ù„Ø§Ù†ÙˆØ§Ø±","Ø´Ø±Ø­ Ø¬Ø§Ù…ÛŒØŒ Ø´Ø±Ø­ ØªÛØ°ÛŒØ¨","Ø§Ù„Ø¨Ù„Ø§ØºÛ ÙˆØ§Ø¶Ø­Û"],
"Ø¹Ø§Ù„ÛŒÛ Ø§ÙˆÙ„":["ÛØ¯Ø§ÛŒÛƒ Ø§Ù„Ù†Ø­ÙˆØŒ Ù…Ø®ØªØµØ± Ø§Ù„Ù…Ø¹Ø§Ù†ÛŒ Ø¨Ø·ÙˆÙ„"],
"Ø¹Ø§Ù„ÛŒÛ Ø¯ÙˆÙ…":["Ù…Ø®ØªØµØ± Ø§Ù„Ù…Ø¹Ø§Ù†ÛŒØŒ Ù…Ø·ÙˆÙ„"],
"Ø¹Ø§Ù„Ù…ÛŒÛ":["Ù…Ø³Ù„Ù… Ø§Ù„Ø«Ø¨ÙˆØªØŒ Ø´Ø±Ø­ Ø¬Ø§Ù…ÛŒØŒ ÙØµÙˆØµ Ø§Ù„Ø­Ú©Ù…"],
"ØªØ®ØµØµ ÙÛŒ Ø§Ù„Ø­Ø¯ÛŒØ« Ø§ÙˆÙ„":["Ø§Ù„Ù…Ø®ØªØµØ±ØŒ Ø´Ø±Ø­ Ø§Ù„Ù…Ø®ØªØµØ±"],
"ØªØ®ØµØµ ÙÛŒ Ø§Ù„Ø­Ø¯ÛŒØ« Ø¯ÙˆÙ…":["Ø§Ù„Ø­Ø³ÛŒÙ† Ø§Ù„ÙˆØµÙˆÙ„ØŒ Ø´Ø±Ø­ Ù†Ø®Ø¨Ø© Ø§Ù„Ø§Ú©Ø³ÛŒØ±"],
"Ø¯ÙˆØ±Û‚ Ø­Ø¯ÛŒØ«":["ØµØ­ÛŒØ­ Ø¨Ø®Ø§Ø±ÛŒØŒ ØµØ­ÛŒØ­ Ù…Ø³Ù„Ù…ØŒ Ø³Ù†Ù† Ø§Ø¨ÛŒ Ø¯Ø§Ø¤Ø¯ØŒ Ø³Ù†Ù† ØªØ±Ù…Ø°ÛŒØŒ Ø³Ù†Ù† Ù†Ø³Ø§Ø¦ÛŒØŒ Ø³Ù†Ù† Ø§Ø¨Ù† Ù…Ø§Ø¬Û"]
};

// Login
function login(){
if(adminPass.value===storedPassword){
adminPanel.style.display="block";
loginCard.style.display="none";
loginMsg.innerHTML="âœ… Login Successful";
}else loginMsg.innerHTML="âŒ Wrong Password";
}

// Change Password
function changePassword(){
let newP=newPass.value.trim();
if(newP){
storedPassword=newP;
localStorage.setItem("adminPassword",newP);
passMsg.innerHTML="âœ… Password Updated Successfully";
newPass.value="";
}else passMsg.innerHTML="âŒ Enter a valid password";
}

// Add / Update Student
function addStudent(){
let r=roll.value;
students[r]={
name: studentName.value,
father: fatherName.value,
class: className.value,
year: year.value,
gender: gender.value,
marks: [+m1.value,+m2.value,+m3.value,+m4.value,+m5.value,+m6.value]
};
localStorage.setItem("students",JSON.stringify(students));
msg.innerHTML="âœ… Result Saved / Updated";
}

// Delete Student
function deleteStudent(){
let r=roll.value;
if(students[r]){
delete students[r];
localStorage.setItem("students",JSON.stringify(students));
msg.innerHTML="âŒ Result Deleted";
}else msg.innerHTML="âŒ Student Not Found";
}

// Add Books
function addNewBooks(){
let cls=className.value;
let newB=newBooks.value.trim();
if(newB){
if(!classBooks[cls]) classBooks[cls]=[];
let arr=newB.split(",");
arr.forEach(b=>classBooks[cls].push(b.trim()));
newBooks.value="";
msg.innerHTML="âœ… New Books Added to Class "+cls;
}
}

// Delete Books
function deleteBooks(){
let cls=className.value;
let delB=delBooks.value.trim();
if(delB && classBooks[cls]){
let arr=delB.split(",");
arr.forEach(b=>{
let idx=classBooks[cls].indexOf(b.trim());
if(idx>-1) classBooks[cls].splice(idx,1);
});
delBooks.value="";
msg.innerHTML="âŒ Selected Books Deleted from Class "+cls;
}
}

// Check Result
function checkResult(){
let r=searchRoll.value;
let cls=searchClass.value;
let s=students[r];
if(!s||s.class!==cls){
result.innerHTML="<p class='fail'>âŒ Result Not Found</p>";
return;
}
let books=classBooks[cls]||[];
let rows="";
for(let i=0;i<books.length;i++){
rows+=`<tr><td>${books[i]}</td><td>${s.marks[i]||0}</td></tr>`;
}
let total=s.marks.reduce((a,b)=>a+b,0);
let percentage=((total/(books.length*100))*100).toFixed(2);
let status=total>= (books.length*40) ? "<span class='pass'>Kaamyaab âœ…</span>" : "<span class='fail'>Na-Kaamyaab âŒ</span>";
let grade= total>= (books.length*80)?"Mumtaz" :
total>= (books.length*70)?"Jayyid":
total>= (books.length*40)?"Maqbool":"Rasid";

result.innerHTML=`<b>Student Name:</b> ${s.name}<br>
<b>Father Name:</b> ${s.father}<br>
<b>Roll:</b> ${r}<br>
<b>Class:</b> ${s.class}<br>
<b>Year:</b> ${s.year}<br>
<b>Gender:</b> ${s.gender}<br>
<table>
<tr><th>Book</th><th>Marks</th></tr>
${rows}
</table>
<b>Total:</b> ${total} <br>
<b>Percentage:</b> ${percentage}%<br>
<b>Grade:</b> ${grade}<br>
<b>Result:</b> ${status}`;
}

// Print Result
function printResult(){
let c=result.innerHTML;
document.body.innerHTML="<h2 style='text-align:center'>Anwar-ul-Uloom Result</h2><hr>"+c;
window.print();
location.reload();
}
</script>
</body>
</html>
