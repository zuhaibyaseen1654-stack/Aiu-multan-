<!DOCTYPE html>
<html lang="ur">
<head>
<meta charset="UTF-8">
<title>Islamic University Result System</title>
<style>
body{font-family:Noto Nastaliq Urdu;background:#f4f4f4;padding:20px}
h2{text-align:center}
.box{background:#fff;padding:15px;border-radius:8px;margin-bottom:15px}
input,select,button{width:100%;padding:8px;margin:5px 0}
button{background:#0a7cff;color:#fff;border:none;border-radius:5px}
.del{background:red}
.small{font-size:14px;color:gray}
</style>
</head>

<body>

<h2>Ø§Ø³Ù„Ø§Ù…Ú© ÛŒÙˆÙ†ÛŒÙˆØ±Ø³Ù¹ÛŒ Ø³Ø³Ù¹Ù…</h2>

<div class="box" id="loginBox">
<h3>ğŸ” Ø§ÛŒÚˆÙ…Ù† Ù„Ø§Ú¯ Ø§ÙÙ†</h3>
<input id="pass" type="password" placeholder="Ù¾Ø§Ø³ ÙˆØ±Úˆ">
<button onclick="login()">Ù„Ø§Ú¯ Ø§ÙÙ†</button>
<p class="small">ÚˆÛŒÙØ§Ù„Ù¹ Ù¾Ø§Ø³ ÙˆØ±Úˆ: <b>1234</b></p>
</div>

<div id="panel" style="display:none">

<div class="box">
<h3>ğŸ“š Ú©ØªØ§Ø¨ Ù…ÛŒÙ†Ø¬Ù…Ù†Ù¹</h3>
<select id="cls"></select>
<input id="book" placeholder="Ú©ØªØ§Ø¨ÛŒÚº comma Ø³Û’ Ø§Ù„Ú¯ Ú©Ø±ÛŒÚº">
<button onclick="addBook()">Ú©ØªØ§Ø¨ Ø§ÛŒÚˆ Ú©Ø±ÛŒÚº</button>
<div id="bookList"></div>
</div>

<div class="box">
<h3>ğŸ“Š Ø±Ø²Ù„Ù¹</h3>
<input id="roll" placeholder="Ø±ÙˆÙ„ Ù†Ù…Ø¨Ø±">
<select id="resClass"></select>
<select id="status">
<option value="pass">Ú©Ø§Ù…ÛŒØ§Ø¨</option>
<option value="fail">Ù†Ø§Ú©Ø§Ù…</option>
</select>
<button onclick="saveResult()">Ø±Ø²Ù„Ù¹ Ù…Ø­ÙÙˆØ¸ Ú©Ø±ÛŒÚº</button>
</div>

<div class="box">
<h3>ğŸ”‘ Ù¾Ø§Ø³ ÙˆØ±Úˆ Ú†ÛŒÙ†Ø¬</h3>
<input id="newpass" type="password" placeholder="Ù†ÛŒØ§ Ù¾Ø§Ø³ ÙˆØ±Úˆ">
<button onclick="changePass()">Ú†ÛŒÙ†Ø¬ Ú©Ø±ÛŒÚº</button>
</div>

<button onclick="logout()">ğŸ”™ Ù„Ø§Ú¯ Ø¢Ø¤Ù¹</button>

</div>

<audio id="passSound">
<source src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg">
</audio>

<audio id="failSound">
<source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg">
</audio>

<script>
let classes=["Ø®Ø§ØµÛ Ø§ÙˆÙ„","Ø®Ø§ØµÛ Ø¯ÙˆÙ…","Ø¹Ø§Ù„ÛŒÛ","Ø¹Ø§Ù„Ù…ÛŒÛ"];
let books=JSON.parse(localStorage.getItem("books"))||{};
let results=JSON.parse(localStorage.getItem("results"))||{};
let password=localStorage.getItem("pass")||"1234";

classes.forEach(c=>{
if(!books[c]) books[c]=[];
cls.innerHTML+=`<option>${c}</option>`;
resClass.innerHTML+=`<option>${c}</option>`;
});

function login(){
if(pass.value===password){
loginBox.style.display="none";
panel.style.display="block";
showBooks();
}else alert("ØºÙ„Ø· Ù¾Ø§Ø³ ÙˆØ±Úˆ");
}

function logout(){location.reload()}

function showBooks(){
let c=cls.value;
bookList.innerHTML="";
books[c].forEach((b,i)=>{
bookList.innerHTML+=`${b}
<button class="del" onclick="delBook('${c}',${i})">âŒ</button><br>`;
});
localStorage.setItem("books",JSON.stringify(books));
}

cls.onchange=showBooks;

function addBook(){
let c=cls.value;
book.value.split(",").forEach(b=>{
if(b.trim()) books[c].push(b.trim());
});
book.value="";
showBooks();
}

function delBook(c,i){
if(confirm("Ú©ØªØ§Ø¨ ÚˆÛŒÙ„ÛŒÙ¹ Ú©Ø±ÛŒÚºØŸ")){
books[c].splice(i,1);
showBooks();
}
}

function saveResult(){
let key=roll.value+"-"+resClass.value;
results[key]=status.value;
localStorage.setItem("results",JSON.stringify(results));
if(status.value==="pass") passSound.play();
else failSound.play();
alert("Ø±Ø²Ù„Ù¹ Ù…Ø­ÙÙˆØ¸ ÛÙˆ Ú¯ÛŒØ§");
}

function changePass(){
password=newpass.value;
localStorage.setItem("pass",password);
alert("Ù¾Ø§Ø³ ÙˆØ±Úˆ Ú†ÛŒÙ†Ø¬ ÛÙˆ Ú¯ÛŒØ§");
}
</script>

</body>
</html>
